(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{4533:function(t,e,r){!function(t){"use strict";var e,n,i,s=function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,r,n){return new(r||(r=Promise))(function(i,s){function a(t){try{o(n.next(t))}catch(t){s(t)}}function u(t){try{o(n.throw(t))}catch(t){s(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,u)}o((n=n.apply(t,e||[])).next())})}function u(t,e){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(o){return function(u){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}}function o(t,e,r){if(r||2==arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var c=(e=n={exports:{}},function(t){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i,s=Object.create((e&&e.prototype instanceof f?e:f).prototype),a=new q(n||[]);return s._invoke=(i="suspendedStart",function(e,n){if("executing"===i)throw Error("Generator is already running");if("completed"===i){if("throw"===e)throw n;return T()}for(a.method=e,a.arg=n;;){var s=a.delegate;if(s){var u=function t(e,r){var n=e.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method))return d;r.method="throw",r.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var i=h(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var s=i.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,d):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,d)}(s,a);if(u){if(u===d)continue;return u}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===i)throw i="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i="executing";var o=h(t,r,a);if("normal"===o.type){if(i=a.done?"completed":"suspendedYield",o.arg===d)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(i="completed",a.method="throw",a.arg=o.arg)}}),s}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function f(){}function p(){}function v(){}var l={};o(l,s,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==r&&n.call(y,s)&&(l=y);var w=v.prototype=f.prototype=Object.create(l);function x(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(i,s){function a(){return new e(function(r,a){!function r(i,s,a,u){var o=h(t[i],t,s);if("throw"!==o.type){var c=o.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then(function(t){r("next",t,a,u)},function(t){r("throw",t,a,u)}):e.resolve(d).then(function(t){c.value=t,a(c)},function(t){return r("throw",t,a,u)})}u(o.arg)}(i,s,r,a)})}return r=r?r.then(a,a):a()}}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function A(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,o(w,"constructor",v),o(v,"constructor",p),p.displayName=o(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,o(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(b.prototype),o(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,i,s){void 0===s&&(s=Promise);var a=new b(c(e,r,n,i),s);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(w),o(w,u,"Generator"),o(w,s,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),o=n.call(s,"finallyLoc");if(u&&o){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!o)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=t,a.arg=e,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t,e,r){return(d=h()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function f(t){var e="function"==typeof Map?new Map:void 0;return(f=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return d(t,arguments,o(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function p(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){var e=h();return function(){var r,n=o(t);if(e){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return p(t)}(this,r)}}function l(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e,r,n){return new(r||(r=Promise))(function(i,s){function a(t){try{o(n.next(t))}catch(t){s(t)}}function u(t){try{o(n.throw(t))}catch(t){s(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,u)}o((n=n.apply(t,e||[])).next())})}var w=function(t){u(r,t);var e=v(r);function r(t,i,s,a){var u,o,c,h;return n(this,r),Object.setPrototypeOf(p(u=e.call(this,t)),r.prototype),u.name="MeiliSearchCommunicationError",i instanceof Response&&(u.message=i.statusText,u.statusCode=i.status),i instanceof Error&&(u.errno=i.errno,u.code=i.code),a?(u.stack=a,u.stack=null===(o=u.stack)||void 0===o?void 0:o.replace(/(TypeError|FetchError)/,u.name),u.stack=null===(c=u.stack)||void 0===c?void 0:c.replace("Failed to fetch","request to ".concat(s," failed, reason: connect ECONNREFUSED")),u.stack=null===(h=u.stack)||void 0===h?void 0:h.replace("Not Found","Not Found: ".concat(s))):Error.captureStackTrace&&Error.captureStackTrace(p(u),r),u}return s(r)}(f(Error)),x=function(t){u(r,t);var e=v(r);function r(t,i){var s;return n(this,r),Object.setPrototypeOf(p(s=e.call(this,t.message)),r.prototype),s.name="MeiliSearchApiError",s.code=t.code,s.type=t.type,s.link=t.link,s.message=t.message,s.httpStatus=i,Error.captureStackTrace&&Error.captureStackTrace(p(s),r),s}return s(r)}(f(Error));function b(t){return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=11;break}return e.prev=1,e.next=4,t.json();case 4:n=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new w(t.statusText,t,t.url);case 10:throw new x(n,t.status);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},r,null,[[1,7]])}))}function m(t,e,r){if("MeiliSearchApiError"!==t.name)throw new w(t.message,t,r,e);throw t}var k=function(t){u(r,t);var e=v(r);function r(t){var i;return n(this,r),Object.setPrototypeOf(p(i=e.call(this,t)),r.prototype),i.name="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(p(i),r),i}return s(r)}(f(Error)),q=function(t){u(r,t);var e=v(r);function r(t){var i;return n(this,r),Object.setPrototypeOf(p(i=e.call(this,t)),r.prototype),i.name="MeiliSearchTimeOutError",Error.captureStackTrace&&Error.captureStackTrace(p(i),r),i}return s(r)}(f(Error));function A(t,e){return"".concat(t,"\nHint: It might not be working because maybe you're not up to date with the Meilisearch version that ").concat(e," call requires.")}function T(t){return Object.entries(t).reduce(function(t,e){var r=function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r,n,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s=[],a=!0,u=!1;try{for(i=i.call(t);!(a=(r=i.next()).done)&&(s.push(r.value),!e||s.length!==e);a=!0);}catch(t){u=!0,n=t}finally{try{a||null==i.return||i.return()}finally{if(u)throw n}}return s}}(e,2)||l(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],i=r[1];return void 0!==i&&(t[n]=i),t},{})}function S(t){return Object.keys(t).reduce(function(e,r){var n=t[r];return void 0===n?e:Array.isArray(n)?Object.assign(Object.assign({},e),a({},r,n.join(","))):n instanceof Date?Object.assign(Object.assign({},e),a({},r,n.toISOString())):Object.assign(Object.assign({},e),a({},r,n))},{})}var R=function(){function t(e){n(this,t),this.headers=function(t){var e,r,n="X-Meilisearch-Client",i="Meilisearch JavaScript (v".concat("0.35.0",")"),s="Authorization",a=function(t){if(Array.isArray(t))return t.reduce(function(t,e){return t[e[0]]=e[1],t},{});if(!("has"in t))return Object.assign({},t);var e={};return t.forEach(function(t,r){return e[r]=t}),e}(null!==(r=null===(e=t.requestConfig)||void 0===e?void 0:e.headers)&&void 0!==r?r:{});if(t.apiKey&&!a[s]&&(a[s]="Bearer ".concat(t.apiKey)),a["Content-Type"]||(a["Content-Type"]="application/json"),t.clientAgents&&Array.isArray(t.clientAgents)){var u=t.clientAgents.concat(i);a[n]=u.join(" ; ")}else if(t.clientAgents&&!Array.isArray(t.clientAgents))throw new k('Meilisearch: The header "'.concat(n,'" should be an array of string(s).\n'));else a[n]=i;return a}(e),this.requestConfig=e.requestConfig,this.httpClient=e.httpClient;try{var r=function(t){try{var e,r;return(r=t=(e=t).startsWith("https://")||e.startsWith("http://")?e:"http://".concat(e)).endsWith("/")||(r+="/"),t=r}catch(t){throw new k("The provided host is not valid.")}}(e.host);this.url=new URL(r)}catch(t){throw new k("The provided host is not valid.")}}return s(t,[{key:"request",value:function(t){var r,n=t.method,i=t.url,s=t.params,a=t.body,u=t.config,o=void 0===u?{}:u;return y(this,void 0,void 0,e().mark(function t(){var u,c,h,d,f,p,v;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=new URL(i,this.url),s&&(c=new URLSearchParams,Object.keys(s).filter(function(t){return null!==s[t]}).map(function(t){return c.set(t,s[t])}),u.search=c.toString()),(null===(r=o.headers)||void 0===r?void 0:r["Content-Type"])||(a=JSON.stringify(a)),h=Object.assign(Object.assign({},this.headers),o.headers),t.prev=5,d=(this.httpClient?this.httpClient:fetch)(u.toString(),Object.assign(Object.assign(Object.assign({},o),this.requestConfig),{method:n,body:a,headers:h})),!this.httpClient){t.next=12;break}return t.next=11,d;case 11:return t.abrupt("return",t.sent);case 12:return t.next=14,d.then(function(t){return b(t)});case 14:return f=t.sent,t.next=17,f.json().catch(function(){});case 17:return p=t.sent,t.abrupt("return",p);case 21:t.prev=21,t.t0=t.catch(5),v=t.t0.stack,m(t.t0,v,u.toString());case 25:case"end":return t.stop()}},t,this,[[5,21]])}))}},{key:"get",value:function(t,r,n){return y(this,void 0,void 0,e().mark(function i(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:"GET",url:t,params:r,config:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,this)}))}},{key:"post",value:function(t,r,n,i){return y(this,void 0,void 0,e().mark(function s(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:"POST",url:t,body:r,params:n,config:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,this)}))}},{key:"put",value:function(t,r,n,i){return y(this,void 0,void 0,e().mark(function s(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:"PUT",url:t,body:r,params:n,config:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,this)}))}},{key:"patch",value:function(t,r,n,i){return y(this,void 0,void 0,e().mark(function s(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:"PATCH",url:t,body:r,params:n,config:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,this)}))}},{key:"delete",value:function(t,r,n,i){return y(this,void 0,void 0,e().mark(function s(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:"DELETE",url:t,body:r,params:n,config:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,this)}))}}]),t}(),O=s(function t(e){n(this,t),this.taskUid=e.taskUid,this.indexUid=e.indexUid,this.status=e.status,this.type=e.type,this.enqueuedAt=new Date(e.enqueuedAt)}),j=s(function t(e){n(this,t),this.indexUid=e.indexUid,this.status=e.status,this.type=e.type,this.uid=e.uid,this.details=e.details,this.canceledBy=e.canceledBy,this.error=e.error,this.duration=e.duration,this.startedAt=new Date(e.startedAt),this.enqueuedAt=new Date(e.enqueuedAt),this.finishedAt=new Date(e.finishedAt)}),P=function(){function t(e){n(this,t),this.httpRequest=new R(e)}return s(t,[{key:"getTask",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="tasks/".concat(t),e.next=3,this.httpRequest.get(n);case 3:return i=e.sent,e.abrupt("return",new j(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"getTasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.get("tasks",S(t));case 3:return n=e.sent,e.abrupt("return",Object.assign(Object.assign({},n),{results:n.results.map(function(t){return new j(t)})}));case 5:case"end":return e.stop()}},r,this)}))}},{key:"waitForTask",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timeOutMs,i=void 0===n?5e3:n,s=r.intervalMs,a=void 0===s?50:s;return y(this,void 0,void 0,e().mark(function r(){var n,s;return e().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=Date.now();case 1:if(!(Date.now()-n<i)){r.next=11;break}return r.next=4,this.getTask(t);case 4:if(["enqueued","processing"].includes((s=r.sent).status)){r.next=7;break}return r.abrupt("return",s);case 7:return r.next=9,function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r)}))}(a);case 9:r.next=1;break;case 11:throw new q("timeout of ".concat(i,"ms has exceeded on process ").concat(t," when waiting a task to be resolved."));case 12:case"end":return r.stop()}},r,this)}))}},{key:"waitForTasks",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timeOutMs,i=void 0===n?5e3:n,s=r.intervalMs,a=void 0===s?50:s;return y(this,void 0,void 0,e().mark(function r(){var n,s,u,o,c;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],s=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}(t),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=12;break}return o=u.value,e.next=8,this.waitForTask(o,{timeOutMs:i,intervalMs:a});case 8:c=e.sent,n.push(c);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),s.e(e.t0);case 17:return e.prev=17,s.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}},r,this,[[2,14,17,20]])}))}},{key:"cancelTasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.post("tasks/cancel",{},S(t));case 3:return n=e.sent,e.abrupt("return",new O(n));case 5:case"end":return e.stop()}},r,this)}))}},{key:"deleteTasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.delete("tasks",{},S(t));case 3:return n=e.sent,e.abrupt("return",new O(n));case 5:case"end":return e.stop()}},r,this)}))}}]),t}(),E=function(){function t(e,r,i){n(this,t),this.uid=r,this.primaryKey=i,this.httpRequest=new R(e),this.tasks=new P(e)}return s(t,[{key:"search",value:function(t,r,n){return y(this,void 0,void 0,e().mark(function i(){var s;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="indexes/".concat(this.uid,"/search"),e.next=3,this.httpRequest.post(s,T(Object.assign({q:t},r)),void 0,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},i,this)}))}},{key:"searchGet",value:function(t,r,n){var i,s,a,u,o,c,h;return y(this,void 0,void 0,e().mark(function d(){var f,p,v;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f="indexes/".concat(this.uid,"/search"),p=function(t){if("string"==typeof t)return t;if(Array.isArray(t))throw new k("The filter query parameter should be in string format when using searchGet")},v=Object.assign(Object.assign({q:t},r),{filter:p(null==r?void 0:r.filter),sort:null===(i=null==r?void 0:r.sort)||void 0===i?void 0:i.join(","),facets:null===(s=null==r?void 0:r.facets)||void 0===s?void 0:s.join(","),attributesToRetrieve:null===(a=null==r?void 0:r.attributesToRetrieve)||void 0===a?void 0:a.join(","),attributesToCrop:null===(u=null==r?void 0:r.attributesToCrop)||void 0===u?void 0:u.join(","),attributesToHighlight:null===(o=null==r?void 0:r.attributesToHighlight)||void 0===o?void 0:o.join(","),vector:null===(c=null==r?void 0:r.vector)||void 0===c?void 0:c.join(","),attributesToSearchOn:null===(h=null==r?void 0:r.attributesToSearchOn)||void 0===h?void 0:h.join(",")}),e.next=5,this.httpRequest.get(f,T(v),n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},d,this)}))}},{key:"searchForFacetValues",value:function(t,r){return y(this,void 0,void 0,e().mark(function n(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="indexes/".concat(this.uid,"/facet-search"),e.next=3,this.httpRequest.post(i,T(t),void 0,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},n,this)}))}},{key:"getRawInfo",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid),t.next=3,this.httpRequest.get(r);case 3:return n=t.sent,this.primaryKey=n.primaryKey,this.updatedAt=new Date(n.updatedAt),this.createdAt=new Date(n.createdAt),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}))}},{key:"fetchInfo",value:function(){return y(this,void 0,void 0,e().mark(function t(){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRawInfo();case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}},t,this)}))}},{key:"fetchPrimaryKey",value:function(){return y(this,void 0,void 0,e().mark(function t(){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRawInfo();case 2:return this.primaryKey=t.sent.primaryKey,t.abrupt("return",this.primaryKey);case 4:case"end":return t.stop()}},t,this)}))}},{key:"update",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid),e.next=3,this.httpRequest.patch(n,t);case 3:return(i=e.sent).enqueuedAt=new Date(i.enqueuedAt),e.abrupt("return",i);case 6:case"end":return e.stop()}},r,this)}))}},{key:"delete",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid),t.next=3,this.httpRequest.delete(r);case 3:return n=t.sent,t.abrupt("return",new O(n));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getTasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.getTasks(Object.assign(Object.assign({},t),{indexUids:[this.uid]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"getTask",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.getTask(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"waitForTasks",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timeOutMs,i=void 0===n?5e3:n,s=r.intervalMs,a=void 0===s?50:s;return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.waitForTasks(t,{timeOutMs:i,intervalMs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"waitForTask",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timeOutMs,i=void 0===n?5e3:n,s=r.intervalMs,a=void 0===s?50:s;return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.waitForTask(t,{timeOutMs:i,intervalMs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"getStats",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/stats"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"getDocuments",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function n(){var i,s,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==(r=T(r)).filter)){e.next=15;break}return e.prev=2,i="indexes/".concat(this.uid,"/documents/fetch"),e.next=6,this.httpRequest.post(i,r);case 6:case 19:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0 instanceof w?e.t0.message=A(e.t0.message,"getDocuments"):e.t0 instanceof x&&(e.t0.message=A(e.t0.message,"getDocuments")),e.t0;case 13:e.next=20;break;case 15:return s="indexes/".concat(this.uid,"/documents"),a=Array.isArray(null==r?void 0:r.fields)?{fields:null===(t=null==r?void 0:r.fields)||void 0===t?void 0:t.join(",")}:{},e.next=19,this.httpRequest.get(s,Object.assign(Object.assign({},r),a));case 20:case"end":return e.stop()}},n,this,[[2,9]])}))}},{key:"getDocument",value:function(t,r){return y(this,void 0,void 0,e().mark(function n(){var i,s;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="indexes/".concat(this.uid,"/documents/").concat(t),s=function(){var t;if(Array.isArray(null==r?void 0:r.fields))return null===(t=null==r?void 0:r.fields)||void 0===t?void 0:t.join(",")}(),e.next=4,this.httpRequest.get(i,T(Object.assign(Object.assign({},r),{fields:s})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},n,this)}))}},{key:"addDocuments",value:function(t,r){return y(this,void 0,void 0,e().mark(function n(){var i,s;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="indexes/".concat(this.uid,"/documents"),e.next=3,this.httpRequest.post(i,t,r);case 3:return s=e.sent,e.abrupt("return",new O(s));case 5:case"end":return e.stop()}},n,this)}))}},{key:"addDocumentsFromString",value:function(t,r,n){return y(this,void 0,void 0,e().mark(function i(){var s,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="indexes/".concat(this.uid,"/documents"),e.next=3,this.httpRequest.post(s,t,n,{headers:{"Content-Type":r}});case 3:return a=e.sent,e.abrupt("return",new O(a));case 5:case"end":return e.stop()}},i,this)}))}},{key:"addDocumentsInBatches",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2?arguments[2]:void 0;return y(this,void 0,void 0,e().mark(function i(){var s,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=[],a=0;case 2:if(!(a<t.length)){e.next=11;break}return e.t0=s,e.next=6,this.addDocuments(t.slice(a,a+r),n);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:a+=r,e.next=2;break;case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},i,this)}))}},{key:"updateDocuments",value:function(t,r){return y(this,void 0,void 0,e().mark(function n(){var i,s;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="indexes/".concat(this.uid,"/documents"),e.next=3,this.httpRequest.put(i,t,r);case 3:return s=e.sent,e.abrupt("return",new O(s));case 5:case"end":return e.stop()}},n,this)}))}},{key:"updateDocumentsInBatches",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2?arguments[2]:void 0;return y(this,void 0,void 0,e().mark(function i(){var s,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=[],a=0;case 2:if(!(a<t.length)){e.next=11;break}return e.t0=s,e.next=6,this.updateDocuments(t.slice(a,a+r),n);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:a+=r,e.next=2;break;case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},i,this)}))}},{key:"updateDocumentsFromString",value:function(t,r,n){return y(this,void 0,void 0,e().mark(function i(){var s,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="indexes/".concat(this.uid,"/documents"),e.next=3,this.httpRequest.put(s,t,n,{headers:{"Content-Type":r}});case 3:return a=e.sent,e.abrupt("return",new O(a));case 5:case"end":return e.stop()}},i,this)}))}},{key:"deleteDocument",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/documents/").concat(t),e.next=3,this.httpRequest.delete(n);case 3:return(i=e.sent).enqueuedAt=new Date(i.enqueuedAt),e.abrupt("return",i);case 6:case"end":return e.stop()}},r,this)}))}},{key:"deleteDocuments",value:function(t){return y(this,void 0,void 0,e().mark(function n(){var i,s,a,u;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(i=!Array.isArray(t)&&"object"===r(t))?"documents/delete":"documents/delete-batch",a="indexes/".concat(this.uid,"/").concat(s),e.prev=3,e.next=6,this.httpRequest.post(a,t);case 6:return u=e.sent,e.abrupt("return",new O(u));case 10:throw e.prev=10,e.t0=e.catch(3),e.t0 instanceof w&&i?e.t0.message=A(e.t0.message,"deleteDocuments"):e.t0 instanceof x&&(e.t0.message=A(e.t0.message,"deleteDocuments")),e.t0;case 14:case"end":return e.stop()}},n,this,[[3,10]])}))}},{key:"deleteAllDocuments",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/documents"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getSettings",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateSettings",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings"),e.next=3,this.httpRequest.patch(n,t);case 3:return(i=e.sent).enqueued=new Date(i.enqueuedAt),e.abrupt("return",i);case 6:case"end":return e.stop()}},r,this)}))}},{key:"resetSettings",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getPagination",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/pagination"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updatePagination",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/pagination"),e.next=3,this.httpRequest.patch(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetPagination",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/pagination"),t.next=3,this.httpRequest.delete(r);case 3:return n=t.sent,t.abrupt("return",new O(n));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getSynonyms",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/synonyms"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateSynonyms",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/synonyms"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetSynonyms",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/synonyms"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getStopWords",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/stop-words"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateStopWords",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/stop-words"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetStopWords",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/stop-words"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getRankingRules",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/ranking-rules"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateRankingRules",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/ranking-rules"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetRankingRules",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/ranking-rules"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getDistinctAttribute",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/distinct-attribute"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateDistinctAttribute",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/distinct-attribute"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetDistinctAttribute",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/distinct-attribute"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getFilterableAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/filterable-attributes"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateFilterableAttributes",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/filterable-attributes"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetFilterableAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/filterable-attributes"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getSortableAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/sortable-attributes"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateSortableAttributes",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/sortable-attributes"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetSortableAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/sortable-attributes"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getSearchableAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/searchable-attributes"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateSearchableAttributes",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/searchable-attributes"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetSearchableAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/searchable-attributes"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getDisplayedAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/displayed-attributes"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateDisplayedAttributes",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/displayed-attributes"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetDisplayedAttributes",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/displayed-attributes"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getTypoTolerance",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/typo-tolerance"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateTypoTolerance",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/typo-tolerance"),e.next=3,this.httpRequest.patch(n,t);case 3:return(i=e.sent).enqueuedAt=new Date(i.enqueuedAt),e.abrupt("return",i);case 6:case"end":return e.stop()}},r,this)}))}},{key:"resetTypoTolerance",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/typo-tolerance"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getFaceting",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/faceting"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateFaceting",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/faceting"),e.next=3,this.httpRequest.patch(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetFaceting",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/faceting"),t.next=3,this.httpRequest.delete(r);case 3:return n=t.sent,t.abrupt("return",new O(n));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getSeparatorTokens",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/separator-tokens"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateSeparatorTokens",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/separator-tokens"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetSeparatorTokens",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/separator-tokens"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getNonSeparatorTokens",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/non-separator-tokens"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateNonSeparatorTokens",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/non-separator-tokens"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetNonSeparatorTokens",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/non-separator-tokens"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getDictionary",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/dictionary"),t.next=3,this.httpRequest.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"updateDictionary",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="indexes/".concat(this.uid,"/settings/dictionary"),e.next=3,this.httpRequest.put(n,t);case 3:return i=e.sent,e.abrupt("return",new O(i));case 5:case"end":return e.stop()}},r,this)}))}},{key:"resetDictionary",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r,n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="indexes/".concat(this.uid,"/settings/dictionary"),t.next=3,this.httpRequest.delete(r);case 3:return(n=t.sent).enqueuedAt=new Date(n.enqueuedAt),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}}],[{key:"create",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return y(this,void 0,void 0,e().mark(function i(){var s,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new R(n),e.next=4,s.post("indexes",Object.assign(Object.assign({},r),{uid:t}));case 4:return a=e.sent,e.abrupt("return",new O(a));case 6:case"end":return e.stop()}},i)}))}}]),t}(),D=function(t){u(r,t);var e=v(r);function r(t){return n(this,r),e.call(this,t)}return s(r)}(function(){function t(e){n(this,t),this.config=e,this.httpRequest=new R(e),this.tasks=new P(e)}return s(t,[{key:"index",value:function(t){return new E(this.config,t)}},{key:"getIndex",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new E(this.config,t).fetchInfo());case 1:case"end":return e.stop()}},r,this)}))}},{key:"getRawIndex",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new E(this.config,t).getRawInfo());case 1:case"end":return e.stop()}},r,this)}))}},{key:"getIndexes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){var n,i,s=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRawIndexes(t);case 2:return i=(n=e.sent).results.map(function(t){return new E(s.config,t.uid,t.primaryKey)}),e.abrupt("return",Object.assign(Object.assign({},n),{results:i}));case 5:case"end":return e.stop()}},r,this)}))}},{key:"getRawIndexes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.get("indexes",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},r,this)}))}},{key:"createIndex",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,void 0,void 0,e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.create(t,r,this.config);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},n,this)}))}},{key:"updateIndex",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,void 0,void 0,e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new E(this.config,t).update(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},n,this)}))}},{key:"deleteIndex",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new E(this.config,t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"deleteIndexIfExists",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.deleteIndex(t);case 3:return e.abrupt("return",!0);case 6:if(e.prev=6,e.t0=e.catch(0),"index_not_found"!==e.t0.code){e.next=10;break}return e.abrupt("return",!1);case 10:throw e.t0;case 11:case"end":return e.stop()}},r,this,[[0,6]])}))}},{key:"swapIndexes",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.post("/swap-indexes",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},r,this)}))}},{key:"multiSearch",value:function(t,r){return y(this,void 0,void 0,e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.post("multi-search",t,void 0,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},n,this)}))}},{key:"getTasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.getTasks(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"getTask",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.getTask(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"waitForTasks",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timeOutMs,i=void 0===n?5e3:n,s=r.intervalMs,a=void 0===s?50:s;return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.waitForTasks(t,{timeOutMs:i,intervalMs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"waitForTask",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timeOutMs,i=void 0===n?5e3:n,s=r.intervalMs,a=void 0===s?50:s;return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.waitForTask(t,{timeOutMs:i,intervalMs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"cancelTasks",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.cancelTasks(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"deleteTasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasks.deleteTasks(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r,this)}))}},{key:"getKeys",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.get("keys",t);case 3:return(n=e.sent).results=n.results.map(function(t){return Object.assign(Object.assign({},t),{createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}),e.abrupt("return",n);case 6:case"end":return e.stop()}},r,this)}))}},{key:"getKey",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="keys/".concat(t),e.next=3,this.httpRequest.get(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},r,this)}))}},{key:"createKey",value:function(t){return y(this,void 0,void 0,e().mark(function r(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.httpRequest.post("keys",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},r,this)}))}},{key:"updateKey",value:function(t,r){return y(this,void 0,void 0,e().mark(function n(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="keys/".concat(t),e.next=3,this.httpRequest.patch(i,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},n,this)}))}},{key:"deleteKey",value:function(t){return y(this,void 0,void 0,e().mark(function r(){var n;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="keys/".concat(t),e.next=3,this.httpRequest.delete(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},r,this)}))}},{key:"health",value:function(){return y(this,void 0,void 0,e().mark(function t(){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.httpRequest.get("health");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"isHealthy",value:function(){return y(this,void 0,void 0,e().mark(function t(){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,this.httpRequest.get("health");case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"getStats",value:function(){return y(this,void 0,void 0,e().mark(function t(){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.httpRequest.get("stats");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"getVersion",value:function(){return y(this,void 0,void 0,e().mark(function t(){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.httpRequest.get("version");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"createDump",value:function(){return y(this,void 0,void 0,e().mark(function t(){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.httpRequest.post("dumps");case 3:return r=t.sent,t.abrupt("return",new O(r));case 5:case"end":return t.stop()}},t,this)}))}},{key:"generateTenantToken",value:function(t,e,r){var n=Error();throw Error("Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment \n ".concat(n.stack,"."))}}]),t}());t.ContentTypeEnum={JSON:"application/json",CSV:"text/csv",NDJSON:"application/x-ndjson"},t.Index=E,t.MatchingStrategies={ALL:"all",LAST:"last"},t.MeiliSearch=D,t.MeiliSearchApiError=x,t.MeiliSearchCommunicationError=w,t.MeiliSearchError=k,t.MeiliSearchTimeOutError=q,t.default=D,t.httpErrorHandler=m,t.httpResponseErrorHandler=b,t.versionErrorHintMessage=A,Object.defineProperty(t,"__esModule",{value:!0})}(n.exports),n.exports);function h(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}function d(t){return t.replace(/(.*):(.*)/i,'"$1"="$2"')}function f(t){return"string"==typeof t?d(t):Array.isArray(t)?t.map(function(t){return Array.isArray(t)?t.map(function(t){return d(t)}).filter(function(t){return t}):d(t)}).filter(function(t){return t}):[]}function p(t){return""===t?[]:"string"==typeof t?[t]:t}function v(t){var e,r,n,i,s,a={},u=t.facets,c=t.attributesToSnippet,h=t.snippetEllipsisText,d=t.attributesToRetrieve,v=t.attributesToHighlight,l=t.highlightPreTag,g=t.highlightPostTag,y=t.placeholderSearch,w=t.query,x=t.sort,b=t.pagination,m=t.matchingStrategy,k=t.filters,q=t.numericFilters,A=t.facetFilters,T=t.indexUid,S=(e=f(A||[]),r=f(q||[]),n=(k||"").trim(),i=p(e),s=p(r),o(o(o([],i,!0),s,!0),[n],!1).filter(function(t){return Array.isArray(t)?t.length:t}));return{getParams:function(){return a},addQuery:function(){a.q=w},addIndexUid:function(){a.indexUid=T},addFacets:function(){Array.isArray(u)?a.facets=u:"string"==typeof u&&(a.facets=[u])},addAttributesToCrop:function(){c&&(a.attributesToCrop=c)},addCropMarker:function(){null!=h&&(a.cropMarker=h)},addAttributesToRetrieve:function(){d&&(a.attributesToRetrieve=d)},addFilters:function(){S.length&&(a.filter=S)},addAttributesToHighlight:function(){a.attributesToHighlight=v||["*"]},addPreTag:function(){l?a.highlightPreTag=l:a.highlightPreTag="__ais-highlight__"},addPostTag:function(){g?a.highlightPostTag=g:a.highlightPostTag="__/ais-highlight__"},addPagination:function(){var t=!!y||!!w||!!S&&0!==S.length;if(b.finite){var e,r,n=(e=b.page,r=b.hitsPerPage,t?{hitsPerPage:r,page:e+1}:{hitsPerPage:0,page:e+1}),i=n.hitsPerPage,s=n.page;a.hitsPerPage=i,a.page=s}else{var u,o,c=(u=b.page,o=b.hitsPerPage,t?{limit:o+1,offset:u*o}:{limit:0,offset:0}),h=c.limit,d=c.offset;a.limit=h,a.offset=d}},addSort:function(){(null==x?void 0:x.length)&&(a.sort=Array.isArray(x)?x:[x])},addGeoSearchFilter:function(){var e=function(t){var e,r,n,i=t.insideBoundingBox,s=t.aroundLatLng,a=t.aroundRadius,u=t.minimumAroundRadius;if(s){var o=s.split(",").map(function(t){return Number.parseFloat(t).toFixed(5)}),c=o[0],h=o[1];e=[c,h]}if((null!=a||null!=u)&&("all"===a?console.warn("instant-meilisearch is not compatible with the `all` value on the aroundRadius parameter"):r=null!=a?a:u),i&&"string"==typeof i){var d=i.split(",").map(function(t){return parseFloat(t)}),f=d[0],p=d[1],v=d[2],l=d[3];n="_geoBoundingBox([".concat(f,", ").concat(p,"], [").concat(v,", ").concat(l,"])")}else if(null!=e&&null!=r){var c=e[0],h=e[1];n="_geoRadius(".concat(c,", ").concat(h,", ").concat(r,")")}return n}({insideBoundingBox:t.insideBoundingBox,aroundLatLng:t.aroundLatLng,aroundRadius:t.aroundRadius,minimumAroundRadius:t.minimumAroundRadius});e&&(a.filter?a.filter.unshift(e):a.filter=[e])},addMatchingStrategy:function(){m&&(a.matchingStrategy=m)}}}function l(t){var e=v(t);return e.addQuery(),e.addIndexUid(),e.addFacets(),e.addAttributesToHighlight(),e.addPreTag(),e.addPostTag(),e.addAttributesToRetrieve(),e.addAttributesToCrop(),e.addCropMarker(),e.addPagination(),e.addFilters(),e.addSort(),e.addGeoSearchFilter(),e.addMatchingStrategy(),e.getParams()}function g(t){return t?t.split(/,(?=\w+:(?:asc|desc))/):[]}function y(t,e,r){return{hitsPerPage:void 0===e?20:e,page:r||0,finite:!!t}}function w(t){var e=t.indexOf(":");return -1===e?{indexUid:t,sortBy:""}:{indexUid:t.substring(0,e),sortBy:t.substring(e+1)}}t.MatchingStrategies=void 0,(i=t.MatchingStrategies||(t.MatchingStrategies={})).ALL="all",i.LAST="last",t.instantMeiliSearch=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r={}),function(t,e,r){var n=r.requestConfig,i=r.httpClient;if("string"!=typeof t)throw TypeError("Provided hostUrl value (1st parameter) is not a string, expected string");if("string"!=typeof e&&"function"!=typeof e)throw TypeError("Provided apiKey value (2nd parameter) is not a string or a function, expected string or function");if(void 0!==n&&!h(n))throw TypeError("Provided requestConfig should be an object");if(i&&"function"!=typeof i)throw TypeError("Provided custom httpClient should be a function")}(t,e,r);var n,i,o,d,f={host:t,apiKey:e=function(t){if("function"==typeof t){var e=t();if("string"!=typeof e)throw TypeError("Provided apiKey function (2nd parameter) did not return a string, expected string");return e}return t}(e),clientAgents:(void 0===(n=r.clientAgents)&&(n=[]),n.concat("Meilisearch instant-meilisearch (v".concat("0.13.6",")")))};void 0!==r.httpClient&&(f.httpClient=r.httpClient),void 0!==r.requestConfig&&(f.requestConfig=r.requestConfig);var p=new c.MeiliSearch(f),x=(void 0===i&&(i={}),o=i,{getEntry:function(t){if(o[t])try{return JSON.parse(o[t])}catch(t){}},formatKey:function(t){return t.reduce(function(t,e){return t+JSON.stringify(e)},"")},setEntry:function(t,e){o[t]=JSON.stringify(e)},clearCache:function(){o={}}}),b={multiSearch:function(t,e){return a(this,void 0,void 0,function(){var r,n,i;return u(this,function(a){switch(a.label){case 0:if(r=x.formatKey([t]),n=x.getEntry(r))return[2,n];return[4,p.multiSearch({queries:t})];case 1:return i=a.sent().results.map(function(t,r){return s(s({},t),{pagination:e[r]||{}})}),x.setEntry(r,i),[2,i]}})})}},m={},k=(d=r,s(s({},{placeholderSearch:!0,keepZeroFacets:!1,clientAgents:[],finitePagination:!1}),d));return{clearCache:function(){return x.clearCache()},search:function(t){return a(this,void 0,void 0,function(){var e,n,i,o,c,d,f,p,x,q;return u(this,function(A){switch(A.label){case 0:for(A.trys.push([0,3,,4]),e=[],n=[],i=[],o=0,c=t;o<c.length;o++)f=l(d=function(t,e){var r=t.query,n=t.indexName,i=t.params,a=w(n),u=a.indexUid,o=a.sortBy,c=y(e.finitePagination,null==i?void 0:i.hitsPerPage,null==i?void 0:i.page);return s(s(s(s({},e),{query:r}),i),{sort:g(o),indexUid:u,pagination:c,placeholderSearch:!1!==e.placeholderSearch,keepZeroFacets:!!e.keepZeroFacets})}(c[o],r)),e.push(f),p=function(t){var e=v(s(s({},t),{placeholderSearch:!0,query:""}));return e.addFacets(),e.addIndexUid(),e.addPagination(),e.getParams()}(d),i.push(p),n.push(d.pagination);return[4,function(t,e,r){return a(this,void 0,void 0,function(){var n,i,s,a,o;return u(this,function(u){switch(u.label){case 0:var c,h;if(c="indexUid",h=[],n=function(t){return!h.includes(t[c])&&(h.push(t[c]),!0)},0===(i=e.filter(n).filter(function(t){var e=t.indexUid;return!Object.keys(r).includes(e)})).length)return[2,r];return[4,t.multiSearch(i,[])];case 1:for(s=0,a=u.sent();s<a.length;s++)r[(o=a[s]).indexUid]=o.facetDistribution||{};return[2,r]}})})}(b,i,m)];case 1:return m=A.sent(),[4,b.multiSearch(e,n)];case 2:var T;return x=A.sent(),T=m=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];t[n.indexUid]=s(s({},n.facetDistribution||{}),t[n.indexUid]||{})}return t}(m,x),[2,{results:x.map(function(t){var e,r,n,i,a,u,o,c,d,f,p,v,l,g,y,w,x,b,m,q,A,S,R,O,j,P,E,D,M;return e=t,r=T[t.indexUid],n=k,x=e.processingTimeMs,b=e.query,m=e.indexUid,A=void 0===(q=e.facetDistribution)?{}:q,S=e.facetStats,R=Object.keys(A),j=(O=(a=(i=e.pagination).hitsPerPage,{page:i.page,nbPages:function(t,e){if(null!=t.totalPages)return t.totalPages;if(0===e)return 0;var r=t.limit,n=t.offset;return(void 0===n?0:n)/e+1+(t.hits.length>=(void 0===r?20:r)?1:0)}(e,a),hitsPerPage:a})).hitsPerPage,P=O.page,E=O.nbPages,D=(u=e.hits,o=e.pagination.hitsPerPage,c=n.finitePagination,d=n.primaryKey,!c&&u.length>o&&u.splice(u.length-1,1),function(t){for(var e,r=0;r<t.length;r++){var n="".concat(r+1e6*Math.random());t[r]._geo&&(t[r]._geoloc=t[r]._geo,t[r].objectID=n),(null===(e=t[r]._formatted)||void 0===e?void 0:e._geo)&&(t[r]._formatted._geoloc=t[r]._formatted._geo,t[r]._formatted.objectID=n)}return t}(u.map(function(t){if(Object.keys(t).length>0){var e=t._formatted;t._matchesPosition;var r=Object.assign(function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)0>e.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}(t,["_formatted","_matchesPosition"]),function(t){if(!t)return{};var e=function t(e){return Array.isArray(e)?e.map(function(e){return t(e)}):h(e)?Object.keys(e).reduce(function(r,n){return r[n]=t(e[n]),r},{}):{value:"string"==typeof e?e:void 0===e?JSON.stringify(null):JSON.stringify(e)}}(t);return{_highlightResult:e,_snippetResult:e}}(e));return d&&(r.objectID=t[d]),r}return t}))),M=(f=e.hitsPerPage,p=e.totalPages,v=e.estimatedTotalHits,l=e.totalHits,null!=v?v:null!=l?l:(void 0===f?0:f)*(void 0===p?0:p)),{index:m,hitsPerPage:j,page:P,facets:(g=n.keepZeroFacets,y=A,g?function(t,e,r){for(var n=t?"string"==typeof t?[t]:t:[],i={},s=0;s<n.length;s++){var a=n[s];for(var u in e[a])i[a]||(i[a]=r[a]||{}),i[a][u]?i[a][u]=r[a][u]:i[a][u]=0}return i}(R,r,y=y||{}):y),nbPages:E,nbHits:M,processingTimeMS:x,query:b,hits:D,params:"",exhaustiveNbHits:!1,facets_stats:Object.keys(w=void 0===S?{}:S).reduce(function(t,e){return t[e]=s(s({},w[e]),{avg:0,sum:0}),t},{})}})}];case 3:throw console.error(q=A.sent()),Error(q);case 4:return[2]}})})},searchForFacetValues:function(t){return a(this,void 0,void 0,function(){var e,n,i,a,o,c,h,d,f;return u(this,function(u){switch(u.label){case 0:e=[],n=0,i=t,u.label=1;case 1:var v,x,b,m,k,q,A;if(!(n<i.length))return[3,4];return v=a=i[n],x=r,m=(b=w(v.indexName)).indexUid,k=b.sortBy,q=v.params,A=y(x.finitePagination,null==q?void 0:q.hitsPerPage,null==q?void 0:q.page),c=l(o=s(s(s({},x),q),{sort:g(k),indexUid:m,pagination:A,placeholderSearch:!1!==x.placeholderSearch,keepZeroFacets:!!x.keepZeroFacets})),h=s(s({},c),{facetQuery:a.params.facetQuery,facetName:a.params.facetName}),delete h.indexUid,[4,p.index(o.indexUid).searchForFacetValues(h)];case 2:f={facetHits:(d=u.sent()).facetHits.map(function(t){return s(s({},t),{highlighted:t.value})}),exhaustiveFacetsCount:!1,processingTimeMS:d.processingTimeMs},e.push(f),u.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})}}},Object.defineProperty(t,"__esModule",{value:!0})}(e,r(4854))}}]);